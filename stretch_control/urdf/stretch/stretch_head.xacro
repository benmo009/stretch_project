<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="stretch_arm">

    <!-- ================= Head ================= -->
    <!-- Head link -->
    <link name="link_head">
        <inertial>
            <origin
                xyz="0.0372933550588956 0.045509432985552 0.0281136801213409"
                rpy="0 0 0"/>
            <mass value="0.129454717596498"/>
            <inertia
                ixx="2.9340596231093E-05"
                ixy="-7.89638931853666E-07"
                ixz="-4.74678128515878E-06"
                iyy="2.68283736177377E-05"
                iyz="1.80251508621876E-06"
                izz="1.4617291423745E-05" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head.STL" />
            </geometry>
            <material name="">
                <color
                    rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
        </visual>
        <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head.STL" />
            </geometry>
        </collision>
    </link>

    <!-- Head Joint -->
    <joint name="joint_head" type="fixed">
        <origin
            xyz="0 1.33 0"
            rpy="1.5708 -1.5615 3.1416"/>
        <parent link="link_mast" />
        <child link="link_head" />
        <axis xyz="0 0 0"/>
    </joint>

    <!-- ================= Head Pan ================= -->
    <!-- Head Pan Link -->
    <link name="link_head_pan">
        <inertial>
            <origin
                xyz="-0.00116200255310878 0.0130365621706306 0.00137629842298681"
                rpy="0 0 0"/>
            <mass value="0.035858341182617"/>
            <inertia
                ixx="2.75847937559827E-05"
                ixy="5.25762707913649E-07"
                ixz="-9.28796751052893E-07"
                iyy="2.08815921106858E-05"
                iyz="1.17265055331737E-05"
                izz="6.78612505435872E-06" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head_pan.STL" />
            </geometry>
            <material name="">
                <color
                    rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
        </visual>
        <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head_pan.STL" />
            </geometry>
        </collision>
    </link>

    <!-- Head Pan Joint -->
    <joint name="joint_head_pan" type="revolute">
        <origin
            xyz="0.135 0.0731 -0.003"
            rpy="-6.4986E-15 -6.068E-24 1.5708"/>
        <parent link="link_head" />
        <child link="link_head_pan" />
        <axis xyz="0 0 1"/>
        <limit effort="100" lower="-3.9" upper="1.5" velocity="1.0"/>
    </joint>

    <!-- Head Pan Transmission block for gazebo -->
    <transmission name="trans_head_pan" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="head_pan_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="joint_head_pan">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
    </transmission>

    <!-- ================= Head Tilt ================= -->
    <!-- Head Tilt Link -->
    <link name="link_head_tilt">
        <inertial>
            <origin
                xyz="0.00920211049011871 -0.0279724762416447 0.0306580436227023"
                rpy="0 0 0"/>
            <mass value="0.0701242408063442"/>
            <inertia
                ixx="1.73265934767466E-05"
                ixy="2.38363792824069E-07"
                ixz="7.96430204321056E-08"
                iyy="4.11044416077217E-05"
                iyz="-9.41955638215997E-07"
                izz="2.38851808140542E-05" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head_tilt.STL" />
            </geometry>
            <material name="">
                <color
                    rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
        </visual>
        <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                    filename="package://stretch_description/meshes/link_head_tilt.STL" />
            </geometry>
        </collision>
    </link>

    <!-- Head Tilt Joint -->
    <joint name="joint_head_tilt" type="revolute">
        <origin
            xyz="-0.0013 0.027507 -0.053311"
            rpy="1.5708 6.068E-24 -2.5165E-15"/>
        <parent link="link_head_pan" />
        <child link="link_head_tilt" />
        <axis xyz="0 0 1"/>
        <limit effort="100" lower="-1.53" upper="0.79" velocity="1.0"/>
    </joint>

    <!-- Head Tilt Transmission block for gazebo -->
    <transmission name="trans_head_tilt" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="head_tilt_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="joint_head_tilt">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
    </transmission>
    
</robot>